fix: 修复url_encode函数和密码生成错误处理

- 修复url_encode函数处理包含换行符字符串的问题
- 改进url_encode函数的错误处理，添加空值检查和异常处理
- 修复密码生成失败时的错误处理，确保总是返回有效密码
- 添加数据库密码生成的错误检查和备用方案
- 使用printf替代echo避免换行符问题

修复原理:
- 使用临时文件存储字符串，避免Python命令中的引号嵌套
- 添加异常处理确保url_encode函数总是返回有效结果
- 改进密码生成的备用方案，确保密码长度和强度
- 添加输入验证和错误降级处理